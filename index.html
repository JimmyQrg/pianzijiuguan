<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>éª—å­é…’é¦† Â· å·¦è½®æ‰‹æªæ¨¡æ‹Ÿå™¨</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
    body {
        font-family: "Press Start 2P", monospace;
        background: radial-gradient(circle at center, #0a0f1f, #000);
        color: #fff;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100vh;
        margin: 0;
        overflow: hidden;
    }

    h1 {
        color: #ffa500;
        text-shadow: 0 0 10px #ff8800;
        font-size: 18px;
        margin-bottom: 30px;
    }

    .gun-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 15px;
        background: rgba(255, 255, 255, 0.05);
        padding: 25px 40px;
        border-radius: 15px;
        box-shadow: 0 0 20px rgba(255, 165, 0, 0.1);
    }

    button {
        font-family: "Press Start 2P", monospace;
        font-size: 10px;
        color: white;
        background: #222;
        border: 2px solid #555;
        padding: 10px 15px;
        border-radius: 10px;
        cursor: pointer;
        transition: 0.2s;
    }

    button:hover {
        background: #444;
        transform: scale(1.05);
    }

    .fire-btn {
        background: #a00000;
        border-color: #ff4040;
    }

    .fire-btn:hover {
        background: #ff0000;
    }

    .log-box {
        margin-top: 20px;
        width: 280px;
        height: 120px;
        background: rgba(255, 255, 255, 0.08);
        border-radius: 10px;
        padding: 10px;
        overflow-y: auto;
        font-size: 10px;
        line-height: 1.5;
        white-space: pre-line;
    }

    .chamber {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin: 10px 0;
    }

    .slot {
        width: 25px;
        height: 25px;
        border-radius: 50%;
        background: #333;
        border: 2px solid #777;
    }

    .slot.loaded {
        background: #ffb300;
        box-shadow: 0 0 8px #ffb300;
    }

    .slot.current {
        border-color: #00ffff;
        box-shadow: 0 0 10px #00ffff;
    }
</style>
</head>
<body>
    <h1>éª—å­é…’é¦† Â· å·¦è½®æ‰‹æªæ¨¡æ‹Ÿå™¨</h1>

    <div class="gun-container">
        <div class="chamber" id="chamber"></div>

        <div>
            <button id="load">è£…å¼¹</button>
            <button id="spin">æ—‹è½¬å¼¹è†›</button>
            <button class="fire-btn" id="fire">æ‰³æœº</button>
        </div>

        <div class="log-box" id="log">[ç³»ç»Ÿ] æ¨¡æ‹Ÿå™¨å·²å¯åŠ¨ã€‚</div>
    </div>

<script>
    const chamber = document.getElementById('chamber');
    const logBox = document.getElementById('log');
    const slots = [];
    let bulletIndex = -1;
    let currentIndex = 0;
    let loaded = false;

    function log(msg) {
        const time = new Date().toLocaleTimeString();
        logBox.textContent += `\n[${time}] ${msg}`;
        logBox.scrollTop = logBox.scrollHeight;
    }

    // åˆå§‹åŒ–å¼¹è†›
    function initChamber() {
        chamber.innerHTML = '';
        for (let i = 0; i < 6; i++) {
            const div = document.createElement('div');
            div.classList.add('slot');
            chamber.appendChild(div);
            slots.push(div);
        }
        updateChamber();
    }

    function updateChamber() {
        slots.forEach((slot, i) => {
            slot.classList.remove('loaded', 'current');
            if (i === bulletIndex) slot.classList.add('loaded');
            if (i === currentIndex) slot.classList.add('current');
        });
    }

    document.getElementById('load').onclick = () => {
        bulletIndex = Math.floor(Math.random() * 6);
        currentIndex = 0;
        loaded = true;
        log("è£…å¼¹å®Œæˆã€‚å­å¼¹å·²ä¸Šè†›ã€‚");
        updateChamber();
    };

    document.getElementById('spin').onclick = () => {
        if (!loaded) return log("è¯·å…ˆè£…å¼¹ï¼");
        currentIndex = Math.floor(Math.random() * 6);
        log("æ—‹è½¬å¼¹è†›â€¦â€¦ ä½ç½®éšæœºï¼");
        updateChamber();
    };

    document.getElementById('fire').onclick = () => {
        if (!loaded) return log("è¿˜æ²¡æœ‰è£…å¼¹ã€‚");
        if (currentIndex === bulletIndex) {
            log("ğŸ’¥ ç °ï¼ä½ æ­»äº†ã€‚");
            loaded = false;
            updateChamber();
        } else {
            log("å’”ã€‚æ²¡äº‹ã€‚ä¸‹ä¸€è½®â€¦â€¦");
            currentIndex = (currentIndex + 1) % 6;
            updateChamber();
        }
    };

    initChamber();
</script>
</body>
</html>
